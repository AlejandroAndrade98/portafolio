@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

body {
  background-color: black;
  color: white;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
  margin: 0;
  width: 100%;
  min-height: 100vh;
  height: auto;
  overflow-x: hidden;
  overscroll-behavior: none;
}

#logo-mask {
  background: white;

  /* ✅ Mask base */
  mask-image: url("/logo.svg");
  mask-repeat: no-repeat;
  mask-position: center 42%;
  mask-size: clamp(10000vh, 22000%, 60000vh);

  /* ✅ iOS / mobile browsers */
  -webkit-mask-image: url("/logo.svg");
  -webkit-mask-repeat: no-repeat;
  -webkit-mask-position: center 42%;
  -webkit-mask-size: clamp(10000vh, 22000%, 60000vh);
}

/* ✅ FIX MOBILE/TABLET: la máscara estaba “arriba” y dejaba vacío abajo */
@media (max-width: 1024px) {
  #logo-mask {
    /* baja la máscara para que cubra el área inferior en portrait */
    mask-position: center 58%;
    -webkit-mask-position: center 58%;

    /* usa vmin para que escale por ancho en mobile y no deje huecos */
    mask-size: clamp(12000vmin, 26000%, 70000vmin);
    -webkit-mask-size: clamp(12000vmin, 26000%, 70000vmin);
  }
}

@theme inline {
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --radius-2xl: calc(var(--radius) + 8px);
  --radius-3xl: calc(var(--radius) + 12px);
  --radius-4xl: calc(var(--radius) + 16px);
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);
}

:root {
  --radius: 0.625rem;
  --background: oklch(1 0 0);
  --foreground: oklch(0.129 0.042 264.695);
  --card: oklch(1 0 0);
  --card-foreground: oklch(0.129 0.042 264.695);
  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.129 0.042 264.695);
  --primary: oklch(0.208 0.042 265.755);
  --primary-foreground: oklch(0.984 0.003 247.858);
  --secondary: oklch(0.968 0.007 247.896);
  --secondary-foreground: oklch(0.208 0.042 265.755);
  --muted: oklch(0.968 0.007 247.896);
  --muted-foreground: oklch(0.554 0.046 257.417);
  --accent: oklch(0.968 0.007 247.896);
  --accent-foreground: oklch(0.208 0.042 265.755);
  --destructive: oklch(0.577 0.245 27.325);
  --border: oklch(0.929 0.013 255.508);
  --input: oklch(0.929 0.013 255.508);
  --ring: oklch(0.704 0.04 256.788);
  --chart-1: oklch(0.646 0.222 41.116);
  --chart-2: oklch(0.6 0.118 184.704);
  --chart-3: oklch(0.398 0.07 227.392);
  --chart-4: oklch(0.828 0.189 84.429);
  --chart-5: oklch(0.769 0.188 70.08);
  --sidebar: oklch(0.984 0.003 247.858);
  --sidebar-foreground: oklch(0.129 0.042 264.695);
  --sidebar-primary: oklch(0.208 0.042 265.755);
  --sidebar-primary-foreground: oklch(0.984 0.003 247.858);
  --sidebar-accent: oklch(0.968 0.007 247.896);
  --sidebar-accent-foreground: oklch(0.208 0.042 265.755);
  --sidebar-border: oklch(0.929 0.013 255.508);
  --sidebar-ring: oklch(0.704 0.04 256.788);
}

.dark {
  --background: oklch(0.129 0.042 264.695);
  --foreground: oklch(0.984 0.003 247.858);
  --card: oklch(0.208 0.042 265.755);
  --card-foreground: oklch(0.984 0.003 247.858);
  --popover: oklch(0.208 0.042 265.755);
  --popover-foreground: oklch(0.984 0.003 247.858);
  --primary: oklch(0.929 0.013 255.508);
  --primary-foreground: oklch(0.208 0.042 265.755);
  --secondary: oklch(0.279 0.041 260.031);
  --secondary-foreground: oklch(0.984 0.003 247.858);
  --muted: oklch(0.279 0.041 260.031);
  --muted-foreground: oklch(0.704 0.04 256.788);
  --accent: oklch(0.279 0.041 260.031);
  --accent-foreground: oklch(0.984 0.003 247.858);
  --destructive: oklch(0.704 0.191 22.216);
  --border: oklch(1 0 0 / 10%);
  --input: oklch(1 0 0 / 15%);
  --ring: oklch(0.551 0.027 264.364);
  --chart-1: oklch(0.488 0.243 264.376);
  --chart-2: oklch(0.696 0.17 162.48);
  --chart-3: oklch(0.769 0.188 70.08);
  --chart-4: oklch(0.627 0.265 303.9);
  --chart-5: oklch(0.645 0.246 16.439);
  --sidebar: oklch(0.208 0.042 265.755);
  --sidebar-foreground: oklch(0.984 0.003 247.858);
  --sidebar-primary: oklch(0.488 0.243 264.376);
  --sidebar-primary-foreground: oklch(0.984 0.003 247.858);
  --sidebar-accent: oklch(0.279 0.041 260.031);
  --sidebar-accent-foreground: oklch(0.984 0.003 247.858);
  --sidebar-border: oklch(1 0 0 / 10%);
  --sidebar-ring: oklch(0.551 0.027 264.364);
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
  }
}


/* ===== ScrollReveal ===== */
.scroll-reveal {
  margin: 20px 0;
}

.scroll-reveal-text {
  display: inline;
}

/* SOLO títulos grandes (como en tu About/Projects title) */
h1.scroll-reveal .scroll-reveal-text,
h2.scroll-reveal .scroll-reveal-text {
  font-size: clamp(1.6rem, 4vw, 3rem);
  line-height: 1.15;
  font-weight: 600;
}

/* Párrafos (y cualquier otro tag): que NO fuerce tamaño */
p.scroll-reveal .scroll-reveal-text {
  font-size: inherit;
  line-height: inherit;
  font-weight: inherit;
}

.word {
  display: inline-block;
  white-space: pre;
  will-change: opacity, filter, transform;
}



/* =======================
   MAGIC BENTO - Smooth Premium
======================= */

.mb-section{
  position: relative;
  isolation: isolate;
  contain: paint;
  border-radius: 24px;
}

/* Spotlight layer (muy sutil, para no “pegar” cards) */
.mb-spotlightLayer{
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  overflow: hidden;
  border-radius: 24px;

  /* oscurece para que el glow no se vea en los gaps */
  background: radial-gradient(120% 120% at 50% 30%,
    rgba(0,0,0,0.10),
    rgba(0,0,0,0.55) 60%,
    rgba(0,0,0,0.75) 100%);
}

.mb-spotlight{
  position: absolute;
  left: 0;
  top: 0;
  width: 520px;
  height: 520px;
  transform: translate(-50%, -50%);
  border-radius: 999px;
  opacity: 0.45;
  mix-blend-mode: screen;
  filter: blur(26px);

  background: radial-gradient(circle at 50% 50%,
    rgba(var(--mb-glow-color), 0.18),
    rgba(var(--mb-glow-color), 0.06) 40%,
    rgba(var(--mb-glow-color), 0) 70%);
}

.mb-aurora{
  position: absolute;
  inset: -45%;
  opacity: 0.28;
  background:
    radial-gradient(closest-side at 30% 40%, rgba(var(--mb-glow-color),0.18), rgba(0,0,0,0) 60%),
    radial-gradient(closest-side at 70% 55%, rgba(var(--mb-glow-color),0.10), rgba(0,0,0,0) 62%),
    radial-gradient(closest-side at 45% 80%, rgba(var(--mb-glow-color),0.09), rgba(0,0,0,0) 60%);
  filter: blur(34px);
  animation: mb-auroraMove 11s ease-in-out infinite;
}

@keyframes mb-auroraMove{
  0%   { transform: translate3d(-2%, -1%, 0) scale(1.02); }
  50%  { transform: translate3d(2%, 1.5%, 0) scale(1.06); }
  100% { transform: translate3d(-2%, -1%, 0) scale(1.02); }
}

.mb-grain{
  position: absolute;
  inset: 0;
  opacity: 0.08;
  background-image:
    repeating-linear-gradient(0deg, rgba(255,255,255,0.04) 0 1px, transparent 1px 3px),
    repeating-linear-gradient(90deg, rgba(255,255,255,0.03) 0 1px, transparent 1px 4px);
  mix-blend-mode: overlay;
}

/* Pulse */
.mb--pulse .mb-spotlight{
  animation: mb-pulse 0.28s ease-out;
}
@keyframes mb-pulse{
  0% { transform: translate(-50%, -50%) scale(0.94); opacity: 0.30; }
  100% { transform: translate(-50%, -50%) scale(1); opacity: 0.50; }
}

/* ✅ GRID TRAY: mata la “unión fea” */
.mb-grid{
  position: relative;
  z-index: 1;

  display: grid;
  gap: 16px;
  grid-template-columns: 1fr;

  padding: 12px;
  border-radius: 24px;

  background: rgba(0,0,0,0.34);
  border: 1px solid rgba(255,255,255,0.06);
  box-shadow: 0 12px 40px rgba(0,0,0,0.40);
}

@media (min-width: 520px){
  .mb-grid{
    grid-template-columns: 1fr 1fr;
  }
  .mb-grid .mb-card:last-child{
    grid-column: 1 / -1;
  }
}

/* ===== Cards ===== */
.mb-card{
  position: relative;
  overflow: hidden;
  border-radius: 20px;
  padding: 16px 16px 14px;
  text-align: left;
  cursor: pointer;

  transform: translateZ(0);
  will-change: transform;

  --mb-glow-x: 50%;
  --mb-glow-y: 50%;
  --mb-glow-radius: 320px;
  --mb-glow-intensity: 0.18;
  --mb-glow-color: 34, 211, 238;

  border: 1px solid transparent;
  background:
    linear-gradient(rgba(10,12,22,0.82), rgba(10,12,22,0.72)) padding-box,
    linear-gradient(180deg, rgba(255,255,255,0.14), rgba(255,255,255,0.06)) border-box;

  box-shadow:
    0 8px 26px rgba(0,0,0,0.35),
    inset 0 1px 0 rgba(255,255,255,0.06);
}

.mb-card::before{
  content:"";
  position:absolute;
  inset:-2px;
  pointer-events:none;

  background:
    radial-gradient(
      circle var(--mb-glow-radius) at var(--mb-glow-x) var(--mb-glow-y),
      rgba(var(--mb-glow-color), calc(var(--mb-glow-intensity) * 0.34)),
      rgba(var(--mb-glow-color), 0) 64%
    );

  filter: blur(16px);
}

.mb-card::after{
  content:"";
  position:absolute;
  inset:-60%;
  pointer-events:none;
  background: linear-gradient(110deg,
    rgba(255,255,255,0) 32%,
    rgba(255,255,255,0.05) 46%,
    rgba(255,255,255,0) 60%);
  transform: translate3d(-22%, -10%, 0) rotate(8deg);
  opacity: 0.45;
}

.mb-card--borderglow{
  box-shadow:
    0 10px 34px rgba(0,0,0,0.40),
    0 0 22px rgba(var(--mb-glow-color), calc(var(--mb-glow-intensity) * 0.28)),
    inset 0 1px 0 rgba(255,255,255,0.06);
}

.mb-card__top{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 10px;
  margin-bottom: 10px;
}

.mb-card__label{
  font-size: 12px;
  letter-spacing: 0.06em;
  text-transform: uppercase;
  color: rgba(255,255,255,0.75);
  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(255,255,255,0.08);
  padding: 6px 10px;
  border-radius: 999px;
}

.mb-card__chev{
  font-size: 14px;
  color: rgba(255,255,255,0.50);
}

.mb-card__title{
  margin: 0;
  font-size: 18px;
  line-height: 1.15;
  letter-spacing: -0.01em;
  color: rgba(255,255,255,0.95);
}

.mb-card__desc{
  margin: 10px 0 0;
  font-size: 14px;
  line-height: 1.45;
  color: rgba(255,255,255,0.72);
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.mb-card--autohide .mb-card__desc{
  -webkit-line-clamp: 2;
  opacity: 0.64;
  transform: translateY(3px);
  transition: opacity 200ms ease, transform 200ms ease;
}

.mb-card--autohide[data-hover="true"] .mb-card__desc{
  -webkit-line-clamp: 3;
  line-clamp: 3; /* opcional, para quitar warning */
  opacity: 0.92;
  transform: translateY(0);
}

/* 2) Hover REAL (solo desktop / mouse) */
@media (hover: hover) and (pointer: fine) {
  .mb-card--autohide:hover .mb-card__desc{
    -webkit-line-clamp: 3;
    line-clamp: 3; /* opcional */
    opacity: 0.92;
    transform: translateY(0);
  }
}

.mb-card__innerGlow{
  position:absolute;
  inset: 0;
  pointer-events:none;
  background: radial-gradient(closest-side at 22% 0%,
    rgba(255,255,255,0.08),
    rgba(255,255,255,0) 60%);
  opacity: 0.40;
}

/* Ripple */
.mb-ripple{
  position:absolute;
  left: 0;
  top: 0;
  width: var(--mb-ripple-size);
  height: var(--mb-ripple-size);
  border-radius: 999px;
  transform: translate3d(var(--mb-ripple-x), var(--mb-ripple-y), 0);
  pointer-events:none;

  background: radial-gradient(circle at center,
    rgba(var(--mb-glow-color), 0.26),
    rgba(var(--mb-glow-color), 0.09) 40%,
    rgba(var(--mb-glow-color), 0) 72%);
  filter: blur(2px);

  animation: mb-ripple 720ms ease-out forwards;
}

@keyframes mb-ripple{
  0%   { opacity: 1; transform: translate3d(var(--mb-ripple-x), var(--mb-ripple-y), 0) scale(0.15); }
  100% { opacity: 0; transform: translate3d(var(--mb-ripple-x), var(--mb-ripple-y), 0) scale(1); }
}

/* ===== Particles (flotantes while hover/tap) ===== */
.mb-particle{
  position:absolute;
  left: 0;
  top: 0;
  width: 6px;
  height: 6px;
  border-radius: 999px;
  pointer-events:none;

  background: rgba(var(--c), 1);
  box-shadow: 0 0 12px rgba(var(--c), 0.55);

  opacity: 0.9;
  transform: translate3d(var(--x), var(--y), 0) scale(var(--s, 1));
}

/* Solo si tiene esta clase: flota infinito */
.mb-particle--float{
  animation:
    mb-float var(--dur, 2.8s) ease-in-out infinite alternate,
    mb-twinkle 1.8s ease-in-out infinite alternate;
  animation-delay: var(--d, 0s);
  will-change: transform, opacity;
}

@keyframes mb-float{
  from{
    transform: translate3d(var(--x), var(--y), 0) scale(var(--s, 1));
  }
  to{
    transform: translate3d(calc(var(--x) + var(--dx)), calc(var(--y) + var(--dy)), 0) scale(var(--s, 1));
  }
}

@keyframes mb-twinkle{
  from{ opacity: 0.35; }
  to{ opacity: 0.95; }
}
@media (prefers-reduced-motion: reduce){
  .mb-aurora{ animation: none; }
}

.mb-section{
  --mb-glow-color: 99, 102, 241; /* fallback por defecto */
}